//- doctype html
//- head
//-   meta(charset='UTF-8')
//-   meta(name='viewport' content='width=device-width, initial-scale=1.0')
//-   title Tyres
//-   link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9' crossorigin='anonymous')
//-   h2 Tyre List 
//- table.table
//-   thead.table-dark 
//-     tr
//-       th(scope='col') First Name
//-       th(scope='col') Last Name
//-       th(scope='col') Email
//-       th(scope='col') Date
//-       th(scope='col') Phone Number
//-       th(scope='col') Receipt Number
//-       th(scope='col') Tyre Size
//-       th(scope='col') Car Type
//-       th(scope='col') Car Model
//-       th(scope='col') Total
//-   tbody
//-   if tyres.length
//-     each tyre in tyres
//-       tr
//-         th #{tyre.firstname}
//-         td  #{tyre.lastname}
//-         td  #{tyre.email}
//-         td  #{tyre.date}
//-         td  #{tyre.phonenumber}  
//-         td  #{tyre.receiptnumber} 
//-         td  #{tyre.tyresize}
//-         td  #{tyre.type}
//-         td  #{tyre.carmodel}
//-         td  #{tyre.total}  
//-         //- td 
//-         //-   form(action="/api/manager/delete" method="POST")
//-         //-     input(type="hidden" name="id" value = manager._id)  
//-         //-     button.btn.btn-danger(type='submit' onclick='return Confirm(event)') Delete  
//-   else 
//-     p There are no tyres in the database

//- script(src="../js/delete.js") 

doctype html
html
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title Tyres
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9' crossorigin='anonymous')
    h2.p-3.mb-3.bg-primary.text-white Tyre List
    link(rel='preconnect' href='https://fonts.googleapis.com')
    link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
    link(href='https://fonts.googleapis.com/css2?family=Fraunces:wght@100;400;700&family=Montserrat:wght@100;500;700&display=swap' rel='stylesheet')
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css' integrity='sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==' crossorigin='anonymous' referrerpolicy='no-referrer')
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9' crossorigin='anonymous')
    link(rel='stylesheet' href='/css/parkerlist.css')
    script(src='https://kit.fontawesome.com/aff02a4ba3.js' crossorigin='anonymous')
  body
    .container
      input#myInput(type='text' onkeyup='myFunction()' placeholder='Search for names..' class='form-control mb-3')
      table#myTable.table.table-bordered.table-hover
        thead.table-primary
          tr.header
           
            th(scope='col') First Name
            th(scope='col') Last Name
            th(scope='col') Email
            th(scope='col') Date
            th(scope='col') Phone Number
            th(scope='col') Receipt Number
            th(scope='col') Tyre Size
            th(scope='col') Car Type
            th(scope='col') Car Model
            th(scope='col') Total
            th(scope='col') Delete
            th(scope='col') Edit
            th(scope='col') Receipt
        tbody
          if tyres.length
            each tyre in tyres
              tr
                  td #{tyre.firstname}
                  td  #{tyre.lastname}
                  td  #{tyre.email}
                  td  #{tyre.date}
                  td  #{tyre.phonenumber}  
                  td  #{tyre.receiptnumber} 
                  td  #{tyre.tyresize}
                  td  #{tyre.type}
                  td  #{tyre.carmodel}
                  td  #{tyre.total} 
                  td
                    form(action="/api/tyre/delete" method="POST")
                      input(type="hidden" name="id" value=tyre._id)
                      button.btn.btn-danger(type='submit' onclick='return Confirm(event)') Delete
                  td
                    a.btn.btn-warning(href="/api/tyre/edit/"+tyre ._id) Edit
                  td
                    a.btn.btn-primary(href="/api/tyre/receipt/"+tyre._id) Generate Receipt 
            

          else 
            p There are no tyres in the database as yet today 


script(src='../js/delete.js')
script(src='/js/search.js')
script(src="/js/batteryreceipt.js") 